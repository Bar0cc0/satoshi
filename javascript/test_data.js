var mock_request = function() {return {"requestID":`${createID()}`, "sr_type":"1", "data":["Integration","Test","michaelgarancher1@gmail.com","testIntegrationGenDocs()"]}};
var rndStr = function(l) {var s = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ+-_?&!#[]*()|\/âäàôöûüêëéèç";let rs = Array(Math.floor(Math.random()*l)).join().split(',').map(function(){ return s.charAt(Math.floor(Math.random() * s.length)); }).join('');return rs;};
var rndBin = function(t) {var s = new Array('oui','non');var z = new Array('Yes','Off');let index = Math.floor(Math.random()+0.5);if (t=='radio') {return s[index]} else if (t=='checkbox') {return z[index]}};

var mock_data_clear = function() {
  return String(`ACT:${rndStr(16)} ${rndStr(16)} ${rndStr(16)}; CHAT:${rndBin('radio')}; CITY1:${rndStr(16)}; CITY2:${rndStr(16)}; CK:${rndBin('radio')}; CKP:${rndBin('radio')}; CKT1:${rndBin('checkbox')}; CKT2:${rndBin('checkbox')}; CKT3:${rndBin('checkbox')}; CKT4:${rndBin('checkbox')}; CKT5:${rndBin('checkbox')}; CKT6:${rndBin('checkbox')}; COM1:${rndBin('checkbox')}; COM2:${rndBin('checkbox')}; COM3:${rndBin('checkbox')}; COM4:${rndBin('checkbox')}; COM5:${rndBin('checkbox')}; COM6:${rndStr(16)}; CONSO:${rndBin('radio')}; CORAC1:${rndBin('checkbox')}; CORAC2:${rndBin('checkbox')}; CORAC3:${rndStr(16)}; COUN1:Canada; COUN2:Canada; DELAC:${rndBin('radio')}; ENT1:${rndStr(16)}; ENT2:${rndStr(16)}; FRP1:${rndBin('checkbox')}; FRP2:${rndBin('checkbox')}; FRP3:${rndBin('checkbox')}; FRP4:${rndBin('checkbox')}; FRP5:${rndBin('checkbox')}; FRP6:${rndBin('checkbox')}; FRP7:${rndBin('checkbox')}; FRP8:${rndBin('checkbox')}; FRP9:${rndBin('checkbox')}; FRP10:${rndBin('checkbox')}; FRP11:${rndStr(16)}; GEO:Québec; HOSTLOC:${rndStr(16)}; HOSTQC:${rndBin('radio')}; LOG:${rndBin('radio')}; MAJ:${rndBin('radio')}; PI1:${rndBin('checkbox')}; PI10:${rndBin('checkbox')}; PI11:${rndBin('checkbox')}; PI12:${rndBin('checkbox')}; PI13:${rndBin('checkbox')}; PI14:${rndBin('checkbox')}; PI15:${rndStr(16)}; PI2:${rndBin('checkbox')}; PI3:${rndBin('checkbox')}; PI4:${rndBin('checkbox')}; PI5:${rndBin('checkbox')}; PI6:${rndBin('checkbox')}; PI7:${rndBin('checkbox')}; PI8:${rndBin('checkbox')}; PI9:${rndBin('checkbox')}; PLTFRM1:${rndBin('checkbox')}; PLTFRM2:${rndBin('checkbox')}; PLTFRM3:${rndBin('checkbox')}; PLTFRM4:${rndBin('checkbox')}; PROV1:Québec; PROV2:Québec; SEC1:${rndBin('checkbox')}; SEC10:${rndBin('checkbox')}; SEC11:${rndBin('checkbox')}; SEC12:${rndBin('checkbox')}; SEC13:${rndBin('checkbox')}; SEC14:${rndBin('checkbox')}; SEC15:${rndBin('checkbox')}; SEC16:${rndStr(16)}; SEC2:${rndBin('checkbox')}; SEC3:${rndBin('checkbox')}; SEC4:${rndBin('checkbox')}; SEC5:${rndBin('checkbox')}; SEC6:${rndBin('checkbox')}; SEC7:${rndBin('checkbox')}; SEC8:${rndBin('checkbox')}; SEC9:${rndBin('checkbox')}; SECMAIL:${rndStr(5)}@${rndStr(3)}.com; SECTEL:1234567890; SHARSM:${rndBin('radio')}; SI1:${rndBin('checkbox')}; SI2:${rndBin('checkbox')}; SI3:${rndBin('checkbox')}; SI4:${rndBin('checkbox')}; SI5:${rndBin('checkbox')}; SI6:${rndBin('checkbox')}; SI7:${rndBin('checkbox')}; SI8:${rndBin('checkbox')}; SI9:${rndStr(16)}; STOCKLOC:${rndStr(16)}; STOCKQC:${rndBin('radio')}; STR1:12 rue ${rndStr(8)}; STR2:12 rue ${rndStr(8)}; SUPLR:${rndStr(16)}; THPRT1:${rndBin('radio')}; THPRT2:${rndStr(16)}; TPCOL1:${rndBin('radio')}; TPCOL2:${rndStr(16)}; TPT1:${rndBin('checkbox')}; TPT2:${rndBin('checkbox')}; TPT3:${rndBin('checkbox')}; TPT4:${rndBin('checkbox')}; TPT5:${rndBin('checkbox')}; TPT6:${rndBin('checkbox')}; TPT7:${rndBin('checkbox')}; TPT8:${rndBin('checkbox')}; TPT9:${rndBin('checkbox')}; TPT10:${rndBin('checkbox')}; TPT11:${rndBin('checkbox')}; TPT12:${rndStr(16)}; URL1:www.${rndStr(3)}.com; URL2:www.${rndStr(3)}.com; ZIP1:${rndStr(6)}; ZIP2:${rndStr(6)}; `)};



const AID = 'G23RstP6f44DtBHuE5s2e';
const PID = 'XpQ2e4BUbFWhJLBr2Vxy2';
const PFOLDERID = '1Cae9LOd-RGzqwFjZDi2ixRQhlBTGHxQj';
const KEY = 'p7o8fIwjhSkGmte4BUOq8';

const DATA_ENCRYPTED = '<---ENCRYPTED26594189097734625801612718144260888988316127181443612167578232466406929120640633266819957284817897313102314129120640635723991642491778321322543628872036755729120640632848178973819481163313102314132668199571038279391326681995777346258041325902442659418909161271814426088898833131023141381948116331310231411038279391326681995777346258012957274781612718144118776103713888244692608889883319464520431946452043194645204103827939132668199577734625801295727478161271814411877610371696801606260888988311877610371187761037118776103710382793913266819957773462580346788338926088898833819481163316444598528481789710382793913266819957773462580346788338941158788222608889883381948116331644459852848178971038279391326681995777346258034678833891612718144138882446926088898831187761037361216757823246640691038279391326681995777346258034678833891612718144169680160626088898832542044179142941885414294188541038279391326681995777346258034678833891612718144158988790126088898832542044179142941885414294188541038279391326681995777346258034678833891612718144672667696260888988325420441791429418854142941885410382793913266819957773462580346788338916127181442711000631260888988325420441791429418854142941885410382793913266819957773462580346788338916127181442519872102608889883254204417914294188541429418854103827939132668199577734625802542044179105512239713888244692608889883118776103736121675782324664069103827939132668199577734625802542044179105512239716968016062608889883254204417914294188541429418854103827939132668199577734625802542044179105512239715898879012608889883254204417914294188541429418854103827939132668199577734625802542044179105512239767266769626088898832542044179142941885414294188541038279391326681995777346258025420441791055122397271100063126088898832542044179142941885414294188541038279391326681995777346258025420441791055122397251987210260888988340821928022848178972491778321361216757838194811633131023141232466406932668199571211644016381948116332499769517203675572491778321361216757831644459853225436288232466406910382793913266819957773462580254204417918989177267537904012542044179260888988331310231413819481163313102314110382793913266819957773462580254204417902659418909773462580138882446926088898831187761037361216757823246640691038279391326681995777346258025420441790265941890977346258016968016062608889883254204417914294188541429418854103827939132668199577734625802542044179026594189097734625801589887901260888988310382793913266819957773462580254204417953667350718989177261388824469260888988377346258072036755731310231417203675573309519750720367557103827939132668199577734625802542044179536673507189891772616968016062608889883773462580720367557313102314172036755733095197507203675571038279391326681995775675115829935817882066295122265941890977346258026088898833819481163316444598528481789710382793913266819957299358178818989177261612718144138882446926088898837537904017203675572912064063381948116323246640693477423498284817897161271814436121675782324664069291206406310382793913266819957299358178818989177261612718144169680160626088898837537904017203675572912064063381948116323246640693477423498284817897161271814436121675782324664069291206406310382793913266819957399889886804115878822138882446926088898831187761037361216757823246640691038279391326681995739988988680411587882213888244692015897682608889883254204417914294188541429418854103827939132668199573998898868041158788221388824469138882446926088898831038279391326681995739988988680411587882216968016062608889883254204417914294188541429418854103827939132668199573998898868041158788221589887901260888988325420441791429418854142941885410382793913266819957399889886804115878822672667696260888988325420441791429418854142941885410382793913266819957399889886804115878822271100063126088898832542044179142941885414294188541038279391326681995739988988680411587882225198721026088898832542044179142941885414294188541038279391326681995739988988680411587882230468081112608889883254204417914294188541429418854103827939132668199573998898868041158788221514555022608889883254204417914294188541429418854103827939132668199573998898868041158788229071539562608889883254204417914294188541429418854103827939132668199574221608027299358178825420441792608889883175858117731644459855723991643853167183361216757838561278110382793913266819957413259024425420441797537904011612718144206629512225420441797734625802608889883103827939132668199574132590244254204417975379040116127181441758581177773462580260888988338194811633164445985284817897103827939132668199572066295122254204417942216080272608889883381948116331644459852848178971038279391326681995710551223972659418909164146962326088898833131023141381948116331310231411038279391326681995741158788221295727478138882446926088898831187761037361216757823246640691038279391326681995741158788221295727478138882446920158976826088898832542044179142941885414294188541038279391326681995741158788221295727478138882446913888244692608889883118776103736121675782324664069103827939132668199574115878822129572747813888244691696801606260888988325420441791429418854142941885410382793913266819957411587882212957274781388824469158988790126088898832542044179142941885414294188541038279391326681995741158788221295727478138882446967266769626088898832542044179142941885414294188541038279391326681995741158788221295727478138882446927110006312608889883103827939132668199574115878822129572747816968016062608889883118776103736121675782324664069103827939132668199574115878822129572747815898879012608889883254204417914294188541429418854103827939132668199574115878822129572747867266769626088898832542044179142941885414294188541038279391326681995741158788221295727478271100063126088898832542044179142941885414294188541038279391326681995741158788221295727478251987210260888988325420441791429418854142941885410382793913266819957411587882212957274783046808111260888988325420441791429418854142941885410382793913266819957411587882212957274781514555022608889883254204417914294188541429418854103827939132668199574115878822129572747890715395626088898832542044179142941885414294188541038279391326681995741158788222066295122161271814439988988680105512239713888244692608889883118776103736121675782324664069103827939132668199574115878822206629512216127181443998898868010551223971696801606260888988325420441791429418854142941885410382793913266819957411587882220662951221612718144399889886801055122397158988790126088898832542044179142941885414294188541038279391326681995741158788222066295122161271814439988988680105512239767266769626088898832542044179142941885414294188541038279391326681995741158788220254204417933670885051388824469260888988317585811773164445985572399164385316718336121675783856127811038279391326681995741158788220254204417933670885051696801606260888988317585811773164445985572399164385316718336121675783856127811038279391326681995775379040129935817887734625801388824469260888988311877610373612167578232466406910382793913266819957753790401299358178877346258013888244692015897682608889883254204417914294188541429418854103827939132668199577537904012993581788773462580138882446913888244692608889883254204417914294188541429418854103827939132668199577537904012993581788773462580138882446916968016062608889883254204417914294188541429418854103827939132668199577537904012993581788773462580138882446915898879012608889883254204417914294188541429418854103827939132668199577537904012993581788773462580138882446967266769626088898832542044179142941885414294188541038279391326681995775379040129935817887734625801388824469271100063126088898832542044179142941885414294188541038279391326681995775379040129935817887734625801388824469251987210260888988310382793913266819957753790401299358178877346258016968016062608889883118776103736121675782324664069103827939132668199577537904012993581788773462580158988790126088898832542044179142941885414294188541038279391326681995775379040129935817887734625806726676962608889883118776103736121675782324664069103827939132668199577537904012993581788773462580271100063126088898832542044179142941885414294188541038279391326681995775379040129935817887734625802519872102608889883254204417914294188541429418854103827939132668199577537904012993581788773462580304680811126088898832542044179142941885414294188541038279391326681995775379040129935817887734625801514555022608889883254204417914294188541429418854103827939132668199577537904012993581788773462580907153956260888988325420441791429418854142941885410382793913266819957753790401299358178877346258010551223972659418909129572747820662951222608889883114479832828481789738561278134774234987203675573612167578403179536045357697823246640697203675572912064063381948116323246640693477423498284817897139573283440317953603612167578249177832172036755740317953601038279391326681995775379040129935817887734625801612718144299358178820662951222608889883138882446916968016061589887901672667696271100063125198721030468081111514555029071539562015897681038279391326681995775379040141325902442659418909075379040110551223972608889883313102314138194811633131023141103827939132668199577537904011295727478138882446926088898831187761037361216757823246640691038279391326681995775379040112957274781696801606260888988325420441791429418854142941885410382793913266819957753790401129572747815898879012608889883254204417914294188541429418854103827939132668199577537904011295727478672667696260888988325420441791429418854142941885410382793913266819957753790401129572747827110006312608889883254204417914294188541429418854103827939132668199577537904011295727478251987210260888988325420441791429418854142941885410382793913266819957753790401129572747830468081112608889883254204417914294188541429418854103827939132668199577537904011295727478151455502260888988325420441791429418854142941885410382793913266819957753790401129572747890715395626088898831038279391326681995775379040116127181442542044179773462580346788338920662951222542044179773462580260888988310382793913266819957753790401161271814425420441797734625803467883389175858117777346258026088898833819481163316444598528481789710382793913266819957753790401161271814401388824469260888988313888244691696801606158988790132668199573225436288316444598536121675783266819957319464520431946452043194645204103827939132668199577537904011612718144016968016062608889883138882446916968016061589887901326681995732254362883164445985361216757832668199571187761037118776103711877610371038279391326681995775379040153667350741158788222066295122026088898833194645204118776103736531564551038279391326681995775379040128481789724917783213131023141720367557291206406331644459853225436288361216757813888244692608889883652995533652995533330951975028481789738561278129120640633451040383345104038310382793913266819957161271814441325902444115878822016127181441388824469260888988331310231413819481163313102314110382793913266819957161271814441325902444115878822016127181441696801606260888988310382793913266819957161271814441158788227734625802542044179206629512213888244692608889883313102314138194811633131023141103827939132668199571612718144411587882277346258025420441792066295122169680160626088898831038279391326681995716127181444115878822161271814413888244692608889883118776103736121675782324664069103827939132668199571612718144411587882216127181441388824469201589768260888988325420441791429418854142941885410382793913266819957161271814441158788221612718144138882446913888244692608889883254204417914294188541429418854103827939132668199571612718144411587882216127181441388824469169680160626088898831038279391326681995716127181444115878822161271814416968016062608889883254204417914294188541429418854103827939132668199571612718144411587882216127181441589887901260888988311877610373612167578232466406910382793913266819957161271814441158788221612718144672667696260888988311877610373612167578232466406910382793913266819957161271814441158788221612718144271100063126088898831187761037361216757823246640691038279391326681995716127181444115878822161271814425198721026088898831187761037361216757823246640691038279391326681995716127181444115878822161271814430468081112608889883254204417914294188541429418854103827939132668199571612718144411587882216127181441514555022608889883254204417914294188541429418854103827939132668199571612718144411587882216127181449071539562608889883254204417914294188541429418854103827939132668199575366735070206629512213888244692608889883832281458322814583228145139573283423246640697203675572912064063381948116323246640693477423498284817897139573283440317953603612167578249177832172036755740317953601038279391326681995753667350702066295122169680160626088898838322814583228145832281451395732834232466406972036755729120640633819481163232466406934774234982848178971395732834403179536036121675782491778321720367557403179536010382793913266819957365315645512957274784115878822138882446926088898832659418909138882446919490519921696801606773462580158988790110382793913266819957365315645512957274784115878822169680160626088898832659418909138882446919490519921696801606773462580158988790110382793913266819957END--->';

const DATA_PARSED = { 
  ACT: 'Ingénierie logiciel',
  CHAT: 'oui',
  CITY1: 'Montreal',
  CITY2: 'Montreal',
  CK: 'oui',
  CKP: 'oui',
  CKT1: 'oui',
  CKT2: 'non',
  CKT3: 'oui',
  CKT4: 'oui',
  CKT5: 'non',
  CKT6: 'oui',
  COM1: 'oui',
  COM2: 'non',
  COM3: 'oui',
  COM4: 'oui',
  COM5: 'non',
  COM6: 'pigeons',
  COMUC: 'Choice1',
  CONSO: 'oui',
  CORAC1: 'oui',
  CORAC2: 'non',
  CORAC3: '',
  CORP: 'Québec',
  COUN1: 'Canada',
  COUN2: 'Canada',
  DELAC: 'non',
  ENT1: '36Studio',
  ENT2: 'Lodha',
  FRP1: 'oui',
  FRP2: 'non',
  FRP3: 'oui',
  FRP4: 'non',
  FRP5: 'oui',
  FRP6: 'non',
  FRP7: 'entrainer ChatGPT',
  GEO: 'Québec',
  HOSTLOC: '',
  HOSTQC: 'oui',
  LOG: 'oui',
  MAJ: 'oui',
  MODHIST: 'non',
  MODTLDR: 'oui',
  MODTYP1: 'oui',
  MODTYP2: 'non',
  MODTYP3: 'oui',
  PI1: 'oui',
  PI10: 'non',
  PI11: 'oui',
  PI12: 'non',
  PI13: 'oui',
  PI14: 'non',
  PI15: 'pseudonyme',
  PI2: 'non',
  PI3: 'oui',
  PI4: 'non',
  PI5: 'oui',
  PI6: 'non',
  PI7: 'oui',
  PI8: 'non',
  PI9: 'oui',
  PLTFRM1: 'oui',
  PLTFRM2: 'non',
  PLTFRM3: 'oui',
  PLTFRM4: 'non',
  PROV1: 'Québec',
  PROV2: 'Québec',
  SEC1: 'oui',
  SEC10: 'non',
  SEC11: 'oui',
  SEC12: 'non',
  SEC13: 'un cadenas',
  SEC2: 'non',
  SEC3: 'oui',
  SEC4: 'non',
  SEC5: 'oui',
  SEC6: 'non',
  SEC7: 'oui',
  SEC8: 'non',
  SEC9: 'oui',
  SECMAIL: 'security@36studio.com',
  SECTEL: '4182763456',
  SHARALT: 'oui',
  SHARAUTO: 'non',
  SHARSM: 'non',
  SI1: 'oui',
  SI2: 'non',
  SI3: 'oui',
  SI4: 'non',
  SI5: 'oui',
  SI6: 'non',
  SI7: 'oui',
  SI8: 'non',
  SI9: 'préférences alimentaires',
  STOCKLOC: 'USA',
  STOCKQC: 'non',
  STR1: '36 rue st dominique',
  STR2: '36 rue st dominique',
  THPRT1: 'oui',
  THPRT2: 'trackID',
  TPCOL1: 'oui',
  TPCOL2: 'big brother',
  TPT1: 'oui',
  TPT2: 'non',
  TPT3: 'oui',
  TPT4: 'non',
  TPT5: 'oui',
  TPT6: 'non',
  TPT7: 'oui',
  TPT8: '',
  URL1: 'www.36studio.com',
  URL2: 'www.36studio.com/terms',
  URLEXT: 'non',
  ZIP1: 'h2h2h3',
  ZIP2: 'h2h2h3' 
}

const TEST_CASE_0 = {
  "requestID":"1a2c345", 
  "sr_type":[0, "service_0" ], 
  "data": ["Rob", "Abank", "rob.abank@trust.ca"], 
}

const TEST_CASE_1 = {
  "requestID":"6d7e890", 
  "sr_type":[1, "service_1" ], 
  "data": ["Mike", "Garancher", "michaelgarancher1@gmail.com"], 
}

